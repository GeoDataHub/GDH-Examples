<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>GeoCoder</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.5.1/dist/leaflet.css"
          integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ=="
          crossorigin=""/>
    <!-- Make sure you put this AFTER Leaflet's CSS -->
    <script src="https://unpkg.com/leaflet@1.5.1/dist/leaflet.js"
            integrity="sha512-GffPMF3RvMeYyc1LWMHtK8EbPv0iNZ8/oTtHPx9/cc2ILxQ+u905qIwdpULaqDkyBKgOaB57QTMg7ztg8Jm2Og=="
            crossorigin=""></script>
</head>
<body>
<div id="map" style="height: 500px"></div>
</body>
<script>

    var url = "https://api.geodatahub.eu/gc?";
    var query = "&q=" + "riia 24";
    var extraParam = "&limit=2";
    var apiKey = "&apikey=" + "eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ0IiwianRpIjoiNTciLCJ0cyI6MTU2MDE1Mzc3NjM2MiwiaXNzIjoiaHR0cDovL3JlYWNoLXUuY29tIn0.DhFSNG9hIB6hZJOj3jNLME1VRQs4UQnHxHKPMyuEFI0";
    var requestUrl = encodeURI(url + query + extraParam + apiKey);
    var mapURl = "https://api.geodatahub.eu/wms/service?" + apiKey;


    var map = L.map('map', {
        crs: L.CRS.EPSG3857,
        center: [56.944856, 24.977423],
        zoom: 12
    });

    map.whenReady(function () {
        fetch(requestUrl).then(function (response) {
            return response.json();
        }).then(function (myJson) {
            var bbox = myJson.features[0].bbox;
            var lat = bbox[1];
            var lon = bbox[0];
            map.flyTo([lat, lon]);
            L.marker([lat, lon]).addTo(map);
        })
    });

    L.tileLayer.wms(mapURl, {
        layers: 'GDHdefault',
        format: 'image/png',
        version: "1.3.0"
    }).addTo(map);

</script>
</html>