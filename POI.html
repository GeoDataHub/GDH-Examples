<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>POI Example</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.5.1/dist/leaflet.css"
          integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ=="
          crossorigin=""/>
    <!-- Make sure you put this AFTER Leaflet's CSS -->
    <script src="https://unpkg.com/leaflet@1.5.1/dist/leaflet.js"
            integrity="sha512-GffPMF3RvMeYyc1LWMHtK8EbPv0iNZ8/oTtHPx9/cc2ILxQ+u905qIwdpULaqDkyBKgOaB57QTMg7ztg8Jm2Og=="
            crossorigin=""></script>
</head>
<body>
<div id="map" style="height: 500px"></div>
</body>
<script>
    //Choose the point of interest to search for
  const poi = 'swedbank';
  const apiKey = '--apikey--';
  const requestUrl = 'https://gdh-api.reach-u.com/poi?q=' + poi + '&apikey=' + apiKey + '&limit=5';
  const mapUrl = 'https://gdh-api.reach-u.com/wms/service?&apikey=' + apiKey;

  const map = L.map('map', {
    crs: L.CRS.EPSG3857,

  }).setView([56.944856, 24.977423], 6);

  L.tileLayer.wms(mapUrl, {
    layers: 'GDHdefault',
    format: 'image/png',
    version: '1.3.0',
  }).addTo(map);

  map.whenReady(function() {
    fetch(requestUrl).then(function(response) {
      return response.json();
    }).then(function(myJson) {
      let holder = myJson.features.flat();
      holder.forEach(function(feature) {
        let test = JSON.stringify(feature.properties);
        L.marker([feature.bbox[1], feature.bbox[0]]).bindPopup(test).openPopup().addTo(map);
      });
    });

  });
</script>
</html>